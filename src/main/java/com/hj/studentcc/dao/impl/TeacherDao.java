package com.hj.studentcc.dao.impl;import com.hj.studentcc.dao.ITeacherDao;import com.hj.studentcc.pojo.Teacher;import com.hj.studentcc.pojo.TeacherXuan;import com.hj.studentcc.util.TxDBUtils;import org.apache.commons.dbutils.QueryRunner;import org.apache.commons.dbutils.handlers.BeanListHandler;import java.sql.SQLException;import java.util.List;/** * @Author: HuangJu * @Date: 2020/9/26 20:37 * @Description: */public class TeacherDao implements ITeacherDao {    @Override    public List<TeacherXuan> findAll(Integer t_id) {        String sql = "select * from teacherxuan where t_id=?";        try {            QueryRunner runner = new QueryRunner(TxDBUtils.getSource());            return runner.query(sql, new BeanListHandler<TeacherXuan>(TeacherXuan.class), t_id);        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    @Override    public List<TeacherXuan> findNo() {        String sql = "select * from weixuan";        try {            QueryRunner runner = new QueryRunner(TxDBUtils.getSource());            return runner.query(sql, new BeanListHandler<TeacherXuan>(TeacherXuan.class));        } catch (Exception e) {            e.printStackTrace();        }        return null;    }    @Override    public void cancel(Integer id) {        String sql = "delete from tea_cou_rela where c_id=?";        try {            QueryRunner runner = new QueryRunner(TxDBUtils.getSource());            runner.update(sql, id);        } catch (Exception e) {            e.printStackTrace();        }    }    @Override    public void choose(Integer id, Integer t_id) {        String sql = "insert into tea_cou_rela value(null,?,?)";        try {            QueryRunner runner = new QueryRunner(TxDBUtils.getSource());            runner.update(sql, t_id, id);        } catch (Exception e) {            e.printStackTrace();        }    }    @Override    public Integer update(Teacher teacher) {        String sql = "update teacher set t_name=? , t_gender=?,t_age=? where u_id=?";        try {            QueryRunner runner = new QueryRunner(TxDBUtils.getSource());            return runner.update(sql, teacher.getT_name(), teacher.getT_gender(), teacher.getT_age(), teacher.getU_id());        } catch (SQLException throwables) {            throwables.printStackTrace();        }        return null;    }}